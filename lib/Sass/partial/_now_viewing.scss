$now-viewing-margin: $padding-small - 1px;

// Now viewing
//
// .is-open - now viewing open state
//
// Markup:
// <ul class='now-viewing__content list-reset'>
// <li class="now-viewing__item clearfix {{modifier_class}}">
//   <button class="btn block now-viewing__item-title">Broadband ADSL Availability</button>
//   <div class="now-viewing__item-inner">
//     <ul class="list-reset flex clearfix now-viewing__item-control">
//       <li class="zoom">
//         <button title="Zoom in data" class="btn">Zoom To</button>
//       </li>
//       <li class="info">
//         <button class="btn undefined">info</button>
//       </li>
//       <li class="remove">
//         <button title="Remove this data" class="btn">Remove</button>
//       </li>
//       <li class="visibility">
//         <button title="Data show/hide" class="btn">
//         <i class="icon icon-eye"></i>
//         </button>
//       </li>
//     </ul>
//     <div class="now-viewing__item-opacity">
//       <label for="opacity">Opacity: </label>
//       <input type="range" name="opacity" min="0" max="1" step="0.01" value="0.6">
//     </div>
//     <div class="now-viewing__item-legend">
//       <a href="https://programs.communications.gov.au/geoserver/ows?service=WMS&amp;version=1.3.0&amp;request=GetLegendGraphic&amp;format=image/png&amp;layer=mybroadband:MyBroadband_ADSL_Availability" data-reactid=".1.1.2.$0.1.2.0">
//       <img src="https://programs.communications.gov.au/geoserver/ows?service=WMS&amp;version=1.3.0&amp;request=GetLegendGraphic&amp;format=image/png&amp;layer=mybroadband:MyBroadband_ADSL_Availability" data-reactid=".1.1.2.$0.1.2.0.0">
//       </a>
//     </div>
//   </div>
// </li>
// </ul>
//
// Style guide: Component.now-viewing

.kss-modifier__example{
  .now-viewing__item{
    width: 300px;
  }
}

.now-viewing{
  height: calc(100vh - #{$workbench-header});
  overflow-y: scroll;
  background: rgba(#fff, 0.15);
  padding: 0  $padding-small;
}


.now-viewing__item-header{
  width: 100%;
  @include transition(height 0.25s ease-in-out);
  .now-viewing__item.is-open & {
  border-bottom: 1px solid $border-color;
  }
}

.now-viewing__item-control{
  padding: $padding 0;
  .btn{
    text-transform: uppercase;
    padding: 0 $padding;
    font-size: $font-size-mini;
  }

  .info{
    border-left: 1px solid $border-color;
    border-right: 1px solid $border-color;
  }
}

.now-viewing__item{
  @include greybox();
  margin: $now-viewing-margin/2 0;
  &.is-dragging{
    opacity: 0.5;
    .now-viewing__header{
      display: none;
    }
    .now-viewing__item-inner{
      display: none;
    }
  }
}

.now-viewing__item-inner{
  max-height: 0;
  overflow: hidden;
  @include transition(height 0.25s ease-in-out);
  .now-viewing__item.is-open &{
    max-height: 1000px;
  }
}

.now-viewing__item-opacity{
  padding: 0 $padding $padding $padding;
  border-bottom: 1px solid $border-color;
  text-transform: uppercase;
  font-size: $font-size-mini;
}

.now-viewing__item-legend{
  padding: $padding;
}

.now-viewing__header{
  padding: 0 $padding;
  .label, .btn, .label-inline{
    text-transform: uppercase;
    font-size: 0.9rem;
  }
}

.nowViewing__drop-zone.is-active{
  height: calc(#{$input-height} + #{$padding});
  background: rgba(#FFF, 0.5);
  border: 2px dashed #fff;
}

.nowViewing__drop-zone{
  height: 1px;
  background: transparent;
  @include transition(height 0.25s ease-in-out);
}

.nowViewing-chart{
  background: $dark;
  margin-bottom: $padding;
  svg{
    text{
      font-size: 9px;
      color: #fff;
      fill: #fff;
    }
  }
}

.now-viewing__item-legend{
  a, img{
    display: block;
  }
}
