/*!
 * Copyright(c) 2012-2013 National ICT Australia Limited (NICTA).  All rights reserved.
 */

!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.ausglobe=e()}}(function(){var e;return function r(e,t,a){function i(n,s){if(!t[n]){if(!e[n]){var l="function"==typeof require&&require;if(!s&&l)return l(n,!0);if(o)return o(n,!0);throw new Error("Cannot find module '"+n+"'")}var c=t[n]={exports:{}};e[n][0].call(c.exports,function(r){var t=e[n][1][r];return i(t?t:r)},c,c.exports,r,e,t,a)}return t[n].exports}for(var o="function"==typeof require&&require,n=0;n<a.length;n++)i(a[n]);return i}({1:[function(){e(["./Core/ArcGisImageServerTerrainProvider","./Core/AssociativeArray","./Core/AxisAlignedBoundingBox","./Core/BingMapsApi","./Core/BoundingRectangle","./Core/BoundingSphere","./Core/BoxGeometry","./Core/BoxOutlineGeometry","./Core/Cartesian2","./Core/Cartesian3","./Core/Cartesian4","./Core/Cartographic","./Core/CatmullRomSpline","./Core/CesiumTerrainProvider","./Core/CircleGeometry","./Core/CircleOutlineGeometry","./Core/Clock","./Core/ClockRange","./Core/ClockStep","./Core/Color","./Core/ColorGeometryInstanceAttribute","./Core/ComponentDatatype","./Core/CornerType","./Core/CorridorGeometry","./Core/CorridorGeometryLibrary","./Core/CorridorOutlineGeometry","./Core/Credit","./Core/CubicRealPolynomial","./Core/CylinderGeometry","./Core/CylinderGeometryLibrary","./Core/CylinderOutlineGeometry","./Core/DefaultProxy","./Core/DeveloperError","./Core/EarthOrientationParameters","./Core/EarthOrientationParametersSample","./Core/EllipseGeometry","./Core/EllipseGeometryLibrary","./Core/EllipseOutlineGeometry","./Core/Ellipsoid","./Core/EllipsoidGeodesic","./Core/EllipsoidGeometry","./Core/EllipsoidOutlineGeometry","./Core/EllipsoidTangentPlane","./Core/EllipsoidTerrainProvider","./Core/EllipsoidalOccluder","./Core/EncodedCartesian3","./Core/Event","./Core/EventHelper","./Core/FAR","./Core/FeatureDetection","./Core/Fullscreen","./Core/GeographicProjection","./Core/GeographicTilingScheme","./Core/Geometry","./Core/GeometryAttribute","./Core/GeometryAttributes","./Core/GeometryInstance","./Core/GeometryInstanceAttribute","./Core/GeometryPipeline","./Core/HeightmapTerrainData","./Core/HeightmapTessellator","./Core/HermitePolynomialApproximation","./Core/HermiteSpline","./Core/Iau2000Orientation","./Core/Iau2006XysData","./Core/Iau2006XysSample","./Core/IauOrientationAxes","./Core/IauOrientationParameters","./Core/IndexDatatype","./Core/InterpolationAlgorithm","./Core/Intersect","./Core/IntersectionTests","./Core/Intersections2D","./Core/Interval","./Core/Iso8601","./Core/JulianDate","./Core/KeyboardEventModifier","./Core/LagrangePolynomialApproximation","./Core/LeapSecond","./Core/LinearApproximation","./Core/LinearSpline","./Core/Math","./Core/Matrix2","./Core/Matrix3","./Core/Matrix4","./Core/NearFarScalar","./Core/ObjectOrientedBoundingBox","./Core/Occluder","./Core/Packable","./Core/PackableForInterpolation","./Core/PixelFormat","./Core/Plane","./Core/PolygonGeometry","./Core/PolygonGeometryLibrary","./Core/PolygonOutlineGeometry","./Core/PolygonPipeline","./Core/PolylineGeometry","./Core/PolylinePipeline","./Core/PolylineVolumeGeometry","./Core/PolylineVolumeGeometryLibrary","./Core/PolylineVolumeOutlineGeometry","./Core/PrimitiveType","./Core/QuadraticRealPolynomial","./Core/QuantizedMeshTerrainData","./Core/QuarticRealPolynomial","./Core/Quaternion","./Core/QuaternionSpline","./Core/Queue","./Core/Ray","./Core/Rectangle","./Core/RectangleGeometry","./Core/RectangleOutlineGeometry","./Core/ReferenceFrame","./Core/RequestErrorEvent","./Core/RuntimeError","./Core/ScreenSpaceEventHandler","./Core/ScreenSpaceEventType","./Core/ShowGeometryInstanceAttribute","./Core/Simon1994PlanetaryPositions","./Core/SimplePolylineGeometry","./Core/SphereGeometry","./Core/SphereOutlineGeometry","./Core/Spherical","./Core/Spline","./Core/TaskProcessor","./Core/TerrainData","./Core/TerrainMesh","./Core/TerrainProvider","./Core/TileProviderError","./Core/TilingScheme","./Core/TimeConstants","./Core/TimeInterval","./Core/TimeIntervalCollection","./Core/TimeStandard","./Core/Tipsify","./Core/Transforms","./Core/TridiagonalSystemSolver","./Core/VRTheWorldTerrainProvider","./Core/VertexFormat","./Core/Visibility","./Core/WallGeometry","./Core/WallGeometryLibrary","./Core/WallOutlineGeometry","./Core/WebMercatorProjection","./Core/WebMercatorTilingScheme","./Core/WindingOrder","./Core/barycentricCoordinates","./Core/binarySearch","./Core/buildModuleUrl","./Core/cancelAnimationFrame","./Core/clone","./Core/combine","./Core/createGuid","./Core/defaultValue","./Core/defineProperties","./Core/defined","./Core/deprecationWarning","./Core/destroyObject","./Core/formatError","./Core/freezeObject","./Core/getFilenameFromUri","./Core/getImagePixels","./Core/getTimestamp","./Core/isArray","./Core/isCrossOriginUrl","./Core/isLeapYear","./Core/jsonp","./Core/loadArrayBuffer","./Core/loadBlob","./Core/loadImage","./Core/loadImageViaBlob","./Core/loadJson","./Core/loadText","./Core/loadWithXhr","./Core/loadXML","./Core/mergeSort","./Core/parseResponseHeaders","./Core/pointInsideTriangle","./Core/requestAnimationFrame","./Core/sampleTerrain","./Core/subdivideArray","./Core/throttleRequestByServer","./Core/wrapFunction","./Core/writeTextToCanvas","./DynamicScene/ColorMaterialProperty","./DynamicScene/CompositeDynamicObjectCollection","./DynamicScene/CompositeMaterialProperty","./DynamicScene/CompositePositionProperty","./DynamicScene/CompositeProperty","./DynamicScene/ConstantPositionProperty","./DynamicScene/ConstantProperty","./DynamicScene/CzmlDataSource","./DynamicScene/DataSource","./DynamicScene/DataSourceCollection","./DynamicScene/DataSourceDisplay","./DynamicScene/DynamicBillboard","./DynamicScene/DynamicBillboardVisualizer","./DynamicScene/DynamicClock","./DynamicScene/DynamicCone","./DynamicScene/DynamicConeVisualizerUsingCustomSensor","./DynamicScene/DynamicEllipse","./DynamicScene/DynamicEllipsoid","./DynamicScene/DynamicGeometryUpdater","./DynamicScene/DynamicLabel","./DynamicScene/DynamicLabelVisualizer","./DynamicScene/DynamicModel","./DynamicScene/DynamicModelVisualizer","./DynamicScene/DynamicObject","./DynamicScene/DynamicObjectCollection","./DynamicScene/DynamicObjectView","./DynamicScene/DynamicPath","./DynamicScene/DynamicPathVisualizer","./DynamicScene/DynamicPoint","./DynamicScene/DynamicPointVisualizer","./DynamicScene/DynamicPolygon","./DynamicScene/DynamicPolyline","./DynamicScene/DynamicPyramid","./DynamicScene/DynamicPyramidVisualizer","./DynamicScene/DynamicRectangle","./DynamicScene/DynamicVector","./DynamicScene/DynamicVectorVisualizer","./DynamicScene/DynamicWall","./DynamicScene/EllipseGeometryUpdater","./DynamicScene/EllipsoidGeometryUpdater","./DynamicScene/GeoJsonDataSource","./DynamicScene/GeometryUpdater","./DynamicScene/GeometryVisualizer","./DynamicScene/GridMaterialProperty","./DynamicScene/ImageMaterialProperty","./DynamicScene/MaterialProperty","./DynamicScene/PolygonGeometryUpdater","./DynamicScene/PolylineGeometryUpdater","./DynamicScene/PolylineOutlineMaterialProperty","./DynamicScene/PositionProperty","./DynamicScene/PositionPropertyArray","./DynamicScene/Property","./DynamicScene/PropertyArray","./DynamicScene/RectangleGeometryUpdater","./DynamicScene/ReferenceProperty","./DynamicScene/SampledPositionProperty","./DynamicScene/SampledProperty","./DynamicScene/StaticGeometryColorBatch","./DynamicScene/StaticGeometryPerMaterialBatch","./DynamicScene/StaticOutlineGeometryBatch","./DynamicScene/StripeMaterialProperty","./DynamicScene/StripeOrientation","./DynamicScene/TimeIntervalCollectionPositionProperty","./DynamicScene/TimeIntervalCollectionProperty","./DynamicScene/Visualizer","./DynamicScene/WallGeometryUpdater","./DynamicScene/createDynamicPropertyDescriptor","./Renderer/AutomaticUniforms","./Renderer/Buffer","./Renderer/BufferUsage","./Renderer/ClearCommand","./Renderer/Context","./Renderer/CubeMap","./Renderer/CubeMapFace","./Renderer/DrawCommand","./Renderer/Framebuffer","./Renderer/MipmapHint","./Renderer/PassState","./Renderer/PickFramebuffer","./Renderer/PixelDatatype","./Renderer/RenderState","./Renderer/Renderbuffer","./Renderer/RenderbufferFormat","./Renderer/ShaderCache","./Renderer/ShaderProgram","./Renderer/Texture","./Renderer/TextureMagnificationFilter","./Renderer/TextureMinificationFilter","./Renderer/TextureWrap","./Renderer/UniformState","./Renderer/VertexArray","./Renderer/VertexArrayFacade","./Renderer/createShaderSource","./Renderer/loadCubeMap","./Scene/AnimationCollection","./Scene/Appearance","./Scene/ArcGisMapServerImageryProvider","./Scene/Billboard","./Scene/BillboardCollection","./Scene/BingMapsImageryProvider","./Scene/BingMapsStyle","./Scene/BlendEquation","./Scene/BlendFunction","./Scene/BlendingState","./Scene/Camera","./Scene/CameraEventAggregator","./Scene/CameraEventType","./Scene/CameraFlightPath","./Scene/CreditDisplay","./Scene/CullFace","./Scene/CullingVolume","./Scene/CustomSensorVolume","./Scene/DebugAppearance","./Scene/DebugModelMatrixPrimitive","./Scene/DepthFunction","./Scene/DiscardMissingTileImagePolicy","./Scene/EllipsoidPrimitive","./Scene/EllipsoidSurfaceAppearance","./Scene/FXAA","./Scene/FrameState","./Scene/FrustumCommands","./Scene/Globe","./Scene/GlobeSurface","./Scene/GlobeSurfaceShaderSet","./Scene/GoogleEarthImageryProvider","./Scene/GridImageryProvider","./Scene/HorizontalOrigin","./Scene/Imagery","./Scene/ImageryLayer","./Scene/ImageryLayerCollection","./Scene/ImageryProvider","./Scene/ImageryState","./Scene/Label","./Scene/LabelCollection","./Scene/LabelStyle","./Scene/Material","./Scene/MaterialAppearance","./Scene/Model","./Scene/ModelAnimation","./Scene/ModelAnimationCache","./Scene/ModelAnimationCollection","./Scene/ModelAnimationLoop","./Scene/ModelAnimationState","./Scene/ModelMaterial","./Scene/ModelMesh","./Scene/ModelNode","./Scene/ModelTypes","./Scene/Moon","./Scene/NeverTileDiscardPolicy","./Scene/OIT","./Scene/OpenStreetMapImageryProvider","./Scene/OrthographicFrustum","./Scene/Pass","./Scene/PerInstanceColorAppearance","./Scene/PerformanceDisplay","./Scene/PerspectiveFrustum","./Scene/PerspectiveOffCenterFrustum","./Scene/Polygon","./Scene/Polyline","./Scene/PolylineCollection","./Scene/PolylineColorAppearance","./Scene/PolylineMaterialAppearance","./Scene/Primitive","./Scene/PrimitiveCollection","./Scene/PrimitivePipeline","./Scene/PrimitiveState","./Scene/RectanglePrimitive","./Scene/RectangularPyramidSensorVolume","./Scene/Scene","./Scene/SceneMode","./Scene/SceneTransforms","./Scene/SceneTransitioner","./Scene/ScreenSpaceCameraController","./Scene/SensorVolumeCollection","./Scene/SingleTileImageryProvider","./Scene/SkyAtmosphere","./Scene/SkyBox","./Scene/StencilFunction","./Scene/StencilOperation","./Scene/Sun","./Scene/SunPostProcess","./Scene/TerrainState","./Scene/TextureAtlas","./Scene/TextureAtlasBuilder","./Scene/Tile","./Scene/TileCoordinatesImageryProvider","./Scene/TileDiscardPolicy","./Scene/TileImagery","./Scene/TileMapServiceImageryProvider","./Scene/TileReplacementQueue","./Scene/TileState","./Scene/TileTerrain","./Scene/VerticalOrigin","./Scene/ViewportQuad","./Scene/WebMapServiceImageryProvider","./Scene/createTangentSpaceDebugPrimitive","./Scene/terrainAttributeLocations","./Shaders/AdjustTranslucentFS","./Shaders/Appearances/AllMaterialAppearanceFS","./Shaders/Appearances/AllMaterialAppearanceVS","./Shaders/Appearances/BasicMaterialAppearanceFS","./Shaders/Appearances/BasicMaterialAppearanceVS","./Shaders/Appearances/EllipsoidSurfaceAppearanceFS","./Shaders/Appearances/EllipsoidSurfaceAppearanceVS","./Shaders/Appearances/PerInstanceColorAppearanceFS","./Shaders/Appearances/PerInstanceColorAppearanceVS","./Shaders/Appearances/PerInstanceFlatColorAppearanceFS","./Shaders/Appearances/PerInstanceFlatColorAppearanceVS","./Shaders/Appearances/PolylineColorAppearanceVS","./Shaders/Appearances/PolylineMaterialAppearanceVS","./Shaders/Appearances/TexturedMaterialAppearanceFS","./Shaders/Appearances/TexturedMaterialAppearanceVS","./Shaders/BillboardCollectionFS","./Shaders/BillboardCollectionVS","./Shaders/Builtin/Constants/degreesPerRadian","./Shaders/Builtin/Constants/depthRange","./Shaders/Builtin/Constants/epsilon1","./Shaders/Builtin/Constants/epsilon2","./Shaders/Builtin/Constants/epsilon3","./Shaders/Builtin/Constants/epsilon4","./Shaders/Builtin/Constants/epsilon5","./Shaders/Builtin/Constants/epsilon6","./Shaders/Builtin/Constants/epsilon7","./Shaders/Builtin/Constants/infinity","./Shaders/Builtin/Constants/oneOverPi","./Shaders/Builtin/Constants/oneOverTwoPi","./Shaders/Builtin/Constants/pi","./Shaders/Builtin/Constants/piOverFour","./Shaders/Builtin/Constants/piOverSix","./Shaders/Builtin/Constants/piOverThree","./Shaders/Builtin/Constants/piOverTwo","./Shaders/Builtin/Constants/radiansPerDegree","./Shaders/Builtin/Constants/sceneMode2D","./Shaders/Builtin/Constants/sceneMode3D","./Shaders/Builtin/Constants/sceneModeColumbusView","./Shaders/Builtin/Constants/sceneModeMorphing","./Shaders/Builtin/Constants/solarRadius","./Shaders/Builtin/Constants/threePiOver2","./Shaders/Builtin/Constants/twoPi","./Shaders/Builtin/Constants/webMercatorMaxLatitude","./Shaders/Builtin/CzmBuiltins","./Shaders/Builtin/Functions/RGBToXYZ","./Shaders/Builtin/Functions/XYZToRGB","./Shaders/Builtin/Functions/alphaWeight","./Shaders/Builtin/Functions/antialias","./Shaders/Builtin/Functions/columbusViewMorph","./Shaders/Builtin/Functions/computePosition","./Shaders/Builtin/Functions/eastNorthUpToEyeCoordinates","./Shaders/Builtin/Functions/ellipsoidContainsPoint","./Shaders/Builtin/Functions/ellipsoidNew","./Shaders/Builtin/Functions/ellipsoidWgs84TextureCoordinates","./Shaders/Builtin/Functions/equalsEpsilon","./Shaders/Builtin/Functions/eyeOffset","./Shaders/Builtin/Functions/eyeToWindowCoordinates","./Shaders/Builtin/Functions/geodeticSurfaceNormal","./Shaders/Builtin/Functions/getDefaultMaterial","./Shaders/Builtin/Functions/getLambertDiffuse","./Shaders/Builtin/Functions/getSpecular","./Shaders/Builtin/Functions/getWaterNoise","./Shaders/Builtin/Functions/getWgs84EllipsoidEC","./Shaders/Builtin/Functions/hue","./Shaders/Builtin/Functions/isEmpty","./Shaders/Builtin/Functions/isFull","./Shaders/Builtin/Functions/latitudeToWebMercatorFraction","./Shaders/Builtin/Functions/luminance","./Shaders/Builtin/Functions/modelToWindowCoordinates","./Shaders/Builtin/Functions/multiplyWithColorBalance","./Shaders/Builtin/Functions/phong","./Shaders/Builtin/Functions/pointAlongRay","./Shaders/Builtin/Functions/rayEllipsoidIntersectionInterval","./Shaders/Builtin/Functions/saturation","./Shaders/Builtin/Functions/tangentToEyeSpaceMatrix","./Shaders/Builtin/Functions/translateRelativeToEye","./Shaders/Builtin/Functions/translucentPhong","./Shaders/Builtin/Functions/transpose","./Shaders/Builtin/Functions/windowToEyeCoordinates","./Shaders/Builtin/Structs/depthRangeStruct","./Shaders/Builtin/Structs/ellipsoid","./Shaders/Builtin/Structs/material","./Shaders/Builtin/Structs/materialInput","./Shaders/Builtin/Structs/ray","./Shaders/Builtin/Structs/raySegment","./Shaders/CompositeOITFS","./Shaders/CustomSensorVolumeFS","./Shaders/CustomSensorVolumeVS","./Shaders/EllipsoidFS","./Shaders/EllipsoidVS","./Shaders/GlobeFS","./Shaders/GlobeFSDepth","./Shaders/GlobeFSPole","./Shaders/GlobeVS","./Shaders/GlobeVSDepth","./Shaders/GlobeVSPole","./Shaders/Materials/BumpMapMaterial","./Shaders/Materials/CheckerboardMaterial","./Shaders/Materials/DotMaterial","./Shaders/Materials/FadeMaterial","./Shaders/Materials/FresnelMaterial","./Shaders/Materials/GridMaterial","./Shaders/Materials/NormalMapMaterial","./Shaders/Materials/PolylineArrowMaterial","./Shaders/Materials/PolylineGlowMaterial","./Shaders/Materials/PolylineOutlineMaterial","./Shaders/Materials/ReflectionMaterial","./Shaders/Materials/RefractionMaterial","./Shaders/Materials/RimLightingMaterial","./Shaders/Materials/StripeMaterial","./Shaders/Materials/Water","./Shaders/PolylineCommon","./Shaders/PolylineFS","./Shaders/PolylineVS","./Shaders/PostProcessFilters/AdditiveBlend","./Shaders/PostProcessFilters/BrightPass","./Shaders/PostProcessFilters/FXAA","./Shaders/PostProcessFilters/GaussianBlur1D","./Shaders/PostProcessFilters/PassThrough","./Shaders/ReprojectWebMercatorFS","./Shaders/ReprojectWebMercatorVS","./Shaders/SensorVolume","./Shaders/SkyAtmosphereFS","./Shaders/SkyAtmosphereVS","./Shaders/SkyBoxFS","./Shaders/SkyBoxVS","./Shaders/SunFS","./Shaders/SunTextureFS","./Shaders/SunVS","./Shaders/ViewportQuadFS","./Shaders/ViewportQuadVS","./ThirdParty/Tween","./ThirdParty/Uri","./ThirdParty/gltfDefaults","./ThirdParty/knockout-3.1.0","./ThirdParty/knockout-es5","./ThirdParty/knockout","./ThirdParty/measureText","./ThirdParty/mersenne-twister","./ThirdParty/sprintf","./ThirdParty/topojson","./ThirdParty/when","./Widgets/Animation/Animation","./Widgets/Animation/AnimationViewModel","./Widgets/BaseLayerPicker/BaseLayerPicker","./Widgets/BaseLayerPicker/BaseLayerPickerViewModel","./Widgets/BaseLayerPicker/ProviderViewModel","./Widgets/BaseLayerPicker/createDefaultImageryProviderViewModels","./Widgets/BaseLayerPicker/createDefaultTerrainProviderViewModels","./Widgets/CesiumInspector/CesiumInspector","./Widgets/CesiumInspector/CesiumInspectorViewModel","./Widgets/CesiumWidget/CesiumWidget","./Widgets/ClockViewModel","./Widgets/Command","./Widgets/FullscreenButton/FullscreenButton","./Widgets/FullscreenButton/FullscreenButtonViewModel","./Widgets/Geocoder/Geocoder","./Widgets/Geocoder/GeocoderViewModel","./Widgets/HomeButton/HomeButton","./Widgets/HomeButton/HomeButtonViewModel","./Widgets/InfoBox/InfoBox","./Widgets/InfoBox/InfoBoxViewModel","./Widgets/NavigationHelpButton/NavigationHelpButton","./Widgets/NavigationHelpButton/NavigationHelpButtonViewModel","./Widgets/SceneModePicker/SceneModePicker","./Widgets/SceneModePicker/SceneModePickerViewModel","./Widgets/SelectionIndicator/SelectionIndicator","./Widgets/SelectionIndicator/SelectionIndicatorViewModel","./Widgets/SvgPathBindingHandler","./Widgets/Timeline/Timeline","./Widgets/Timeline/TimelineHighlightRange","./Widgets/Timeline/TimelineTrack","./Widgets/ToggleButtonViewModel","./Widgets/Viewer/Viewer","./Widgets/Viewer/viewerCesiumInspectorMixin","./Widgets/Viewer/viewerDragDropMixin","./Widgets/Viewer/viewerDynamicObjectMixin","./Widgets/createCommand","./Widgets/getElement","./Widgets/subscribeAndEvaluate","./Workers/createTaskProcessorWorker"],function(e,r,t,a,i,o,n,s,l,c,d,u,p,m,y,h,S,C,g,v,f,P,D,M,T,_,b,A,G,w,I,B,F,V,x,E,R,L,O,W,N,k,U,j,z,J,H,q,Q,X,K,Y,Z,$,er,rr,tr,ar,ir,or,nr,sr,lr,cr,dr,ur,pr,mr,yr,hr,Sr,Cr,gr,vr,fr,Pr,Dr,Mr,Tr,_r,br,Ar,Gr,wr,Ir,Br,Fr,Vr,xr,Er,Rr,Lr,Or,Wr,Nr,kr,Ur,jr,zr,Jr,Hr,qr,Qr,Xr,Kr,Yr,Zr,$r,et,rt,tt,at,it,ot,nt,st,lt,ct,dt,ut,pt,mt,yt,ht,St,Ct,gt,vt,ft,Pt,Dt,Mt,Tt,_t,bt,At,Gt,wt,It,Bt,Ft,Vt,xt,Et,Rt,Lt,Ot,Wt,Nt,kt,Ut,jt,zt,Jt,Ht,qt,Qt,Xt,Kt,Yt,Zt,$t,ea,ra,ta,aa,ia,oa,na,sa,la,ca,da,ua,pa,ma,ya,ha,Sa,Ca,ga,va,fa,Pa,Da,Ma,Ta,_a,ba,Aa,Ga,wa,Ia,Ba,Fa,Va,xa,Ea,Ra,La,Oa,Wa,Na,ka,Ua,ja,za,Ja,Ha,qa,Qa,Xa,Ka,Ya,Za,$a,ei,ri,ti,ai,ii,oi,ni,si,li,ci,di,ui,pi,mi,yi,hi,Si,Ci,gi,vi,fi,Pi,Di,Mi,Ti,_i,bi,Ai,Gi,wi,Ii,Bi,Fi,Vi,xi,Ei,Ri,Li,Oi,Wi,Ni,ki,Ui,ji,zi,Ji,Hi,qi,Qi,Xi,Ki,Yi,Zi,$i,eo,ro,to,ao,io,oo,no,so,lo,co,uo,po,mo,yo,ho,So,Co,go,vo,fo,Po,Do,Mo,To,_o,bo,Ao,Go,wo,Io,Bo,Fo,Vo,xo,Eo,Ro,Lo,Oo,Wo,No,ko,Uo,jo,zo,Jo,Ho,qo,Qo,Xo,Ko,Yo,Zo,$o,en,rn,tn,an,on,nn,sn,ln,cn,dn,un,pn,mn,yn,hn,Sn,Cn,gn,vn,fn,Pn,Dn,Mn,Tn,_n,bn,An,Gn,wn,In,Bn,Fn,Vn,xn,En,Rn,Ln,On,Wn,Nn,kn,Un,jn,zn,Jn,Hn,qn,Qn,Xn,Kn,Yn,Zn,$n,es,rs,ts,as,is,os,ns,ss,ls,cs,ds,us,ps,ms,ys,hs,Ss,Cs,gs,vs,fs,Ps,Ds,Ms,Ts,_s,bs,As,Gs,ws,Is,Bs,Fs,Vs,xs,Es,Rs,Ls,Os,Ws,Ns,ks,Us,js,zs,Js,Hs,qs,Qs,Xs,Ks,Ys,Zs,$s,el,rl,tl,al,il,ol,nl,sl,ll,cl,dl,ul,pl,ml,yl,hl,Sl,Cl,gl,vl,fl,Pl,Dl,Ml,Tl,_l,bl,Al,Gl,wl,Il,Bl,Fl,Vl,xl,El,Rl,Ll,Ol,Wl,Nl,kl,Ul,jl,zl,Jl,Hl,ql,Ql,Xl,Kl,Yl,Zl,$l,ec,rc,tc,ac,ic,oc,nc,sc,lc,cc,dc,uc,pc,mc,yc,hc,Sc,Cc,gc,vc,fc,Pc,Dc,Mc,Tc,_c,bc,Ac,Gc,wc,Ic,Bc,Fc,Vc,xc,Ec,Rc,Lc,Oc,Wc,Nc,kc,Uc,jc,zc,Jc,Hc,qc,Qc,Xc,Kc,Yc,Zc,$c,ed,rd,td,ad,id,od,nd,sd,ld,cd,dd,ud,pd,md,yd,hd,Sd,Cd,gd,vd,fd,Pd,Dd,Md){"use strict";var Td={_shaders:{}};return Td.ArcGisImageServerTerrainProvider=e,Td.AssociativeArray=r,Td.AxisAlignedBoundingBox=t,Td.BingMapsApi=a,Td.BoundingRectangle=i,Td.BoundingSphere=o,Td.BoxGeometry=n,Td.BoxOutlineGeometry=s,Td.Cartesian2=l,Td.Cartesian3=c,Td.Cartesian4=d,Td.Cartographic=u,Td.CatmullRomSpline=p,Td.CesiumTerrainProvider=m,Td.CircleGeometry=y,Td.CircleOutlineGeometry=h,Td.Clock=S,Td.ClockRange=C,Td.ClockStep=g,Td.Color=v,Td.ColorGeometryInstanceAttribute=f,Td.ComponentDatatype=P,Td.CornerType=D,Td.CorridorGeometry=M,Td.CorridorGeometryLibrary=T,Td.CorridorOutlineGeometry=_,Td.Credit=b,Td.CubicRealPolynomial=A,Td.CylinderGeometry=G,Td.CylinderGeometryLibrary=w,Td.CylinderOutlineGeometry=I,Td.DefaultProxy=B,Td.DeveloperError=F,Td.EarthOrientationParameters=V,Td.EarthOrientationParametersSample=x,Td.EllipseGeometry=E,Td.EllipseGeometryLibrary=R,Td.EllipseOutlineGeometry=L,Td.Ellipsoid=O,Td.EllipsoidGeodesic=W,Td.EllipsoidGeometry=N,Td.EllipsoidOutlineGeometry=k,Td.EllipsoidTangentPlane=U,Td.EllipsoidTerrainProvider=j,Td.EllipsoidalOccluder=z,Td.EncodedCartesian3=J,Td.Event=H,Td.EventHelper=q,Td.FAR=Q,Td.FeatureDetection=X,Td.Fullscreen=K,Td.GeographicProjection=Y,Td.GeographicTilingScheme=Z,Td.Geometry=$,Td.GeometryAttribute=er,Td.GeometryAttributes=rr,Td.GeometryInstance=tr,Td.GeometryInstanceAttribute=ar,Td.GeometryPipeline=ir,Td.HeightmapTerrainData=or,Td.HeightmapTessellator=nr,Td.HermitePolynomialApproximation=sr,Td.HermiteSpline=lr,Td.Iau2000Orientation=cr,Td.Iau2006XysData=dr,Td.Iau2006XysSample=ur,Td.IauOrientationAxes=pr,Td.IauOrientationParameters=mr,Td.IndexDatatype=yr,Td.InterpolationAlgorithm=hr,Td.Intersect=Sr,Td.IntersectionTests=Cr,Td.Intersections2D=gr,Td.Interval=vr,Td.Iso8601=fr,Td.JulianDate=Pr,Td.KeyboardEventModifier=Dr,Td.LagrangePolynomialApproximation=Mr,Td.LeapSecond=Tr,Td.LinearApproximation=_r,Td.LinearSpline=br,Td.Math=Ar,Td.Matrix2=Gr,Td.Matrix3=wr,Td.Matrix4=Ir,Td.NearFarScalar=Br,Td.ObjectOrientedBoundingBox=Fr,Td.Occluder=Vr,Td.Packable=xr,Td.PackableForInterpolation=Er,Td.PixelFormat=Rr,Td.Plane=Lr,Td.PolygonGeometry=Or,Td.PolygonGeometryLibrary=Wr,Td.PolygonOutlineGeometry=Nr,Td.PolygonPipeline=kr,Td.PolylineGeometry=Ur,Td.PolylinePipeline=jr,Td.PolylineVolumeGeometry=zr,Td.PolylineVolumeGeometryLibrary=Jr,Td.PolylineVolumeOutlineGeometry=Hr,Td.PrimitiveType=qr,Td.QuadraticRealPolynomial=Qr,Td.QuantizedMeshTerrainData=Xr,Td.QuarticRealPolynomial=Kr,Td.Quaternion=Yr,Td.QuaternionSpline=Zr,Td.Queue=$r,Td.Ray=et,Td.Rectangle=rt,Td.RectangleGeometry=tt,Td.RectangleOutlineGeometry=at,Td.ReferenceFrame=it,Td.RequestErrorEvent=ot,Td.RuntimeError=nt,Td.ScreenSpaceEventHandler=st,Td.ScreenSpaceEventType=lt,Td.ShowGeometryInstanceAttribute=ct,Td.Simon1994PlanetaryPositions=dt,Td.SimplePolylineGeometry=ut,Td.SphereGeometry=pt,Td.SphereOutlineGeometry=mt,Td.Spherical=yt,Td.Spline=ht,Td.TaskProcessor=St,Td.TerrainData=Ct,Td.TerrainMesh=gt,Td.TerrainProvider=vt,Td.TileProviderError=ft,Td.TilingScheme=Pt,Td.TimeConstants=Dt,Td.TimeInterval=Mt,Td.TimeIntervalCollection=Tt,Td.TimeStandard=_t,Td.Tipsify=bt,Td.Transforms=At,Td.TridiagonalSystemSolver=Gt,Td.VRTheWorldTerrainProvider=wt,Td.VertexFormat=It,Td.Visibility=Bt,Td.WallGeometry=Ft,Td.WallGeometryLibrary=Vt,Td.WallOutlineGeometry=xt,Td.WebMercatorProjection=Et,Td.WebMercatorTilingScheme=Rt,Td.WindingOrder=Lt,Td.barycentricCoordinates=Ot,Td.binarySearch=Wt,Td.buildModuleUrl=Nt,Td.cancelAnimationFrame=kt,Td.clone=Ut,Td.combine=jt,Td.createGuid=zt,Td.defaultValue=Jt,Td.defineProperties=Ht,Td.defined=qt,Td.deprecationWarning=Qt,Td.destroyObject=Xt,Td.formatError=Kt,Td.freezeObject=Yt,Td.getFilenameFromUri=Zt,Td.getImagePixels=$t,Td.getTimestamp=ea,Td.isArray=ra,Td.isCrossOriginUrl=ta,Td.isLeapYear=aa,Td.jsonp=ia,Td.loadArrayBuffer=oa,Td.loadBlob=na,Td.loadImage=sa,Td.loadImageViaBlob=la,Td.loadJson=ca,Td.loadText=da,Td.loadWithXhr=ua,Td.loadXML=pa,Td.mergeSort=ma,Td.parseResponseHeaders=ya,Td.pointInsideTriangle=ha,Td.requestAnimationFrame=Sa,Td.sampleTerrain=Ca,Td.subdivideArray=ga,Td.throttleRequestByServer=va,Td.wrapFunction=fa,Td.writeTextToCanvas=Pa,Td.ColorMaterialProperty=Da,Td.CompositeDynamicObjectCollection=Ma,Td.CompositeMaterialProperty=Ta,Td.CompositePositionProperty=_a,Td.CompositeProperty=ba,Td.ConstantPositionProperty=Aa,Td.ConstantProperty=Ga,Td.CzmlDataSource=wa,Td.DataSource=Ia,Td.DataSourceCollection=Ba,Td.DataSourceDisplay=Fa,Td.DynamicBillboard=Va,Td.DynamicBillboardVisualizer=xa,Td.DynamicClock=Ea,Td.DynamicCone=Ra,Td.DynamicConeVisualizerUsingCustomSensor=La,Td.DynamicEllipse=Oa,Td.DynamicEllipsoid=Wa,Td.DynamicGeometryUpdater=Na,Td.DynamicLabel=ka,Td.DynamicLabelVisualizer=Ua,Td.DynamicModel=ja,Td.DynamicModelVisualizer=za,Td.DynamicObject=Ja,Td.DynamicObjectCollection=Ha,Td.DynamicObjectView=qa,Td.DynamicPath=Qa,Td.DynamicPathVisualizer=Xa,Td.DynamicPoint=Ka,Td.DynamicPointVisualizer=Ya,Td.DynamicPolygon=Za,Td.DynamicPolyline=$a,Td.DynamicPyramid=ei,Td.DynamicPyramidVisualizer=ri,Td.DynamicRectangle=ti,Td.DynamicVector=ai,Td.DynamicVectorVisualizer=ii,Td.DynamicWall=oi,Td.EllipseGeometryUpdater=ni,Td.EllipsoidGeometryUpdater=si,Td.GeoJsonDataSource=li,Td.GeometryUpdater=ci,Td.GeometryVisualizer=di,Td.GridMaterialProperty=ui,Td.ImageMaterialProperty=pi,Td.MaterialProperty=mi,Td.PolygonGeometryUpdater=yi,Td.PolylineGeometryUpdater=hi,Td.PolylineOutlineMaterialProperty=Si,Td.PositionProperty=Ci,Td.PositionPropertyArray=gi,Td.Property=vi,Td.PropertyArray=fi,Td.RectangleGeometryUpdater=Pi,Td.ReferenceProperty=Di,Td.SampledPositionProperty=Mi,Td.SampledProperty=Ti,Td.StaticGeometryColorBatch=_i,Td.StaticGeometryPerMaterialBatch=bi,Td.StaticOutlineGeometryBatch=Ai,Td.StripeMaterialProperty=Gi,Td.StripeOrientation=wi,Td.TimeIntervalCollectionPositionProperty=Ii,Td.TimeIntervalCollectionProperty=Bi,Td.Visualizer=Fi,Td.WallGeometryUpdater=Vi,Td.createDynamicPropertyDescriptor=xi,Td.AutomaticUniforms=Ei,Td.Buffer=Ri,Td.BufferUsage=Li,Td.ClearCommand=Oi,Td.Context=Wi,Td.CubeMap=Ni,Td.CubeMapFace=ki,Td.DrawCommand=Ui,Td.Framebuffer=ji,Td.MipmapHint=zi,Td.PassState=Ji,Td.PickFramebuffer=Hi,Td.PixelDatatype=qi,Td.RenderState=Qi,Td.Renderbuffer=Xi,Td.RenderbufferFormat=Ki,Td.ShaderCache=Yi,Td.ShaderProgram=Zi,Td.Texture=$i,Td.TextureMagnificationFilter=eo,Td.TextureMinificationFilter=ro,Td.TextureWrap=to,Td.UniformState=ao,Td.VertexArray=io,Td.VertexArrayFacade=oo,Td.createShaderSource=no,Td.loadCubeMap=so,Td.AnimationCollection=lo,Td.Appearance=co,Td.ArcGisMapServerImageryProvider=uo,Td.Billboard=po,Td.BillboardCollection=mo,Td.BingMapsImageryProvider=yo,Td.BingMapsStyle=ho,Td.BlendEquation=So,Td.BlendFunction=Co,Td.BlendingState=go,Td.Camera=vo,Td.CameraEventAggregator=fo,Td.CameraEventType=Po,Td.CameraFlightPath=Do,Td.CreditDisplay=Mo,Td.CullFace=To,Td.CullingVolume=_o,Td.CustomSensorVolume=bo,Td.DebugAppearance=Ao,Td.DebugModelMatrixPrimitive=Go,Td.DepthFunction=wo,Td.DiscardMissingTileImagePolicy=Io,Td.EllipsoidPrimitive=Bo,Td.EllipsoidSurfaceAppearance=Fo,Td.FXAA=Vo,Td.FrameState=xo,Td.FrustumCommands=Eo,Td.Globe=Ro,Td.GlobeSurface=Lo,Td.GlobeSurfaceShaderSet=Oo,Td.GoogleEarthImageryProvider=Wo,Td.GridImageryProvider=No,Td.HorizontalOrigin=ko,Td.Imagery=Uo,Td.ImageryLayer=jo,Td.ImageryLayerCollection=zo,Td.ImageryProvider=Jo,Td.ImageryState=Ho,Td.Label=qo,Td.LabelCollection=Qo,Td.LabelStyle=Xo,Td.Material=Ko,Td.MaterialAppearance=Yo,Td.Model=Zo,Td.ModelAnimation=$o,Td.ModelAnimationCache=en,Td.ModelAnimationCollection=rn,Td.ModelAnimationLoop=tn,Td.ModelAnimationState=an,Td.ModelMaterial=on,Td.ModelMesh=nn,Td.ModelNode=sn,Td.ModelTypes=ln,Td.Moon=cn,Td.NeverTileDiscardPolicy=dn,Td.OIT=un,Td.OpenStreetMapImageryProvider=pn,Td.OrthographicFrustum=mn,Td.Pass=yn,Td.PerInstanceColorAppearance=hn,Td.PerformanceDisplay=Sn,Td.PerspectiveFrustum=Cn,Td.PerspectiveOffCenterFrustum=gn,Td.Polygon=vn,Td.Polyline=fn,Td.PolylineCollection=Pn,Td.PolylineColorAppearance=Dn,Td.PolylineMaterialAppearance=Mn,Td.Primitive=Tn,Td.PrimitiveCollection=_n,Td.PrimitivePipeline=bn,Td.PrimitiveState=An,Td.RectanglePrimitive=Gn,Td.RectangularPyramidSensorVolume=wn,Td.Scene=In,Td.SceneMode=Bn,Td.SceneTransforms=Fn,Td.SceneTransitioner=Vn,Td.ScreenSpaceCameraController=xn,Td.SensorVolumeCollection=En,Td.SingleTileImageryProvider=Rn,Td.SkyAtmosphere=Ln,Td.SkyBox=On,Td.StencilFunction=Wn,Td.StencilOperation=Nn,Td.Sun=kn,Td.SunPostProcess=Un,Td.TerrainState=jn,Td.TextureAtlas=zn,Td.TextureAtlasBuilder=Jn,Td.Tile=Hn,Td.TileCoordinatesImageryProvider=qn,Td.TileDiscardPolicy=Qn,Td.TileImagery=Xn,Td.TileMapServiceImageryProvider=Kn,Td.TileReplacementQueue=Yn,Td.TileState=Zn,Td.TileTerrain=$n,Td.VerticalOrigin=es,Td.ViewportQuad=rs,Td.WebMapServiceImageryProvider=ts,Td.createTangentSpaceDebugPrimitive=as,Td.terrainAttributeLocations=is,Td._shaders.AdjustTranslucentFS=os,Td._shaders.AllMaterialAppearanceFS=ns,Td._shaders.AllMaterialAppearanceVS=ss,Td._shaders.BasicMaterialAppearanceFS=ls,Td._shaders.BasicMaterialAppearanceVS=cs,Td._shaders.EllipsoidSurfaceAppearanceFS=ds,Td._shaders.EllipsoidSurfaceAppearanceVS=us,Td._shaders.PerInstanceColorAppearanceFS=ps,Td._shaders.PerInstanceColorAppearanceVS=ms,Td._shaders.PerInstanceFlatColorAppearanceFS=ys,Td._shaders.PerInstanceFlatColorAppearanceVS=hs,Td._shaders.PolylineColorAppearanceVS=Ss,Td._shaders.PolylineMaterialAppearanceVS=Cs,Td._shaders.TexturedMaterialAppearanceFS=gs,Td._shaders.TexturedMaterialAppearanceVS=vs,Td._shaders.BillboardCollectionFS=fs,Td._shaders.BillboardCollectionVS=Ps,Td._shaders.degreesPerRadian=Ds,Td._shaders.depthRange=Ms,Td._shaders.epsilon1=Ts,Td._shaders.epsilon2=_s,Td._shaders.epsilon3=bs,Td._shaders.epsilon4=As,Td._shaders.epsilon5=Gs,Td._shaders.epsilon6=ws,Td._shaders.epsilon7=Is,Td._shaders.infinity=Bs,Td._shaders.oneOverPi=Fs,Td._shaders.oneOverTwoPi=Vs,Td._shaders.pi=xs,Td._shaders.piOverFour=Es,Td._shaders.piOverSix=Rs,Td._shaders.piOverThree=Ls,Td._shaders.piOverTwo=Os,Td._shaders.radiansPerDegree=Ws,Td._shaders.sceneMode2D=Ns,Td._shaders.sceneMode3D=ks,Td._shaders.sceneModeColumbusView=Us,Td._shaders.sceneModeMorphing=js,Td._shaders.solarRadius=zs,Td._shaders.threePiOver2=Js,Td._shaders.twoPi=Hs,Td._shaders.webMercatorMaxLatitude=qs,Td._shaders.CzmBuiltins=Qs,Td._shaders.RGBToXYZ=Xs,Td._shaders.XYZToRGB=Ks,Td._shaders.alphaWeight=Ys,Td._shaders.antialias=Zs,Td._shaders.columbusViewMorph=$s,Td._shaders.computePosition=el,Td._shaders.eastNorthUpToEyeCoordinates=rl,Td._shaders.ellipsoidContainsPoint=tl,Td._shaders.ellipsoidNew=al,Td._shaders.ellipsoidWgs84TextureCoordinates=il,Td._shaders.equalsEpsilon=ol,Td._shaders.eyeOffset=nl,Td._shaders.eyeToWindowCoordinates=sl,Td._shaders.geodeticSurfaceNormal=ll,Td._shaders.getDefaultMaterial=cl,Td._shaders.getLambertDiffuse=dl,Td._shaders.getSpecular=ul,Td._shaders.getWaterNoise=pl,Td._shaders.getWgs84EllipsoidEC=ml,Td._shaders.hue=yl,Td._shaders.isEmpty=hl,Td._shaders.isFull=Sl,Td._shaders.latitudeToWebMercatorFraction=Cl,Td._shaders.luminance=gl,Td._shaders.modelToWindowCoordinates=vl,Td._shaders.multiplyWithColorBalance=fl,Td._shaders.phong=Pl,Td._shaders.pointAlongRay=Dl,Td._shaders.rayEllipsoidIntersectionInterval=Ml,Td._shaders.saturation=Tl,Td._shaders.tangentToEyeSpaceMatrix=_l,Td._shaders.translateRelativeToEye=bl,Td._shaders.translucentPhong=Al,Td._shaders.transpose=Gl,Td._shaders.windowToEyeCoordinates=wl,Td._shaders.depthRangeStruct=Il,Td._shaders.ellipsoid=Bl,Td._shaders.material=Fl,Td._shaders.materialInput=Vl,Td._shaders.ray=xl,Td._shaders.raySegment=El,Td._shaders.CompositeOITFS=Rl,Td._shaders.CustomSensorVolumeFS=Ll,Td._shaders.CustomSensorVolumeVS=Ol,Td._shaders.EllipsoidFS=Wl,Td._shaders.EllipsoidVS=Nl,Td._shaders.GlobeFS=kl,Td._shaders.GlobeFSDepth=Ul,Td._shaders.GlobeFSPole=jl,Td._shaders.GlobeVS=zl,Td._shaders.GlobeVSDepth=Jl,Td._shaders.GlobeVSPole=Hl,Td._shaders.BumpMapMaterial=ql,Td._shaders.CheckerboardMaterial=Ql,Td._shaders.DotMaterial=Xl,Td._shaders.FadeMaterial=Kl,Td._shaders.FresnelMaterial=Yl,Td._shaders.GridMaterial=Zl,Td._shaders.NormalMapMaterial=$l,Td._shaders.PolylineArrowMaterial=ec,Td._shaders.PolylineGlowMaterial=rc,Td._shaders.PolylineOutlineMaterial=tc,Td._shaders.ReflectionMaterial=ac,Td._shaders.RefractionMaterial=ic,Td._shaders.RimLightingMaterial=oc,Td._shaders.StripeMaterial=nc,Td._shaders.Water=sc,Td._shaders.PolylineCommon=lc,Td._shaders.PolylineFS=cc,Td._shaders.PolylineVS=dc,Td._shaders.AdditiveBlend=uc,Td._shaders.BrightPass=pc,Td._shaders.FXAA=mc,Td._shaders.GaussianBlur1D=yc,Td._shaders.PassThrough=hc,Td._shaders.ReprojectWebMercatorFS=Sc,Td._shaders.ReprojectWebMercatorVS=Cc,Td._shaders.SensorVolume=gc,Td._shaders.SkyAtmosphereFS=vc,Td._shaders.SkyAtmosphereVS=fc,Td._shaders.SkyBoxFS=Pc,Td._shaders.SkyBoxVS=Dc,Td._shaders.SunFS=Mc,Td._shaders.SunTextureFS=Tc,Td._shaders.SunVS=_c,Td._shaders.ViewportQuadFS=bc,Td._shaders.ViewportQuadVS=Ac,Td.Tween=Gc,Td.Uri=wc,Td.gltfDefaults=Ic,Td["knockout-3.1.0"]=Bc,Td["knockout-es5"]=Fc,Td.knockout=Vc,Td.measureText=xc,Td["mersenne-twister"]=Ec,Td.sprintf=Rc,Td.topojson=Lc,Td.when=Oc,Td.Animation=Wc,Td.AnimationViewModel=Nc,Td.BaseLayerPicker=kc,Td.BaseLayerPickerViewModel=Uc,Td.ProviderViewModel=jc,Td.createDefaultImageryProviderViewModels=zc,Td.createDefaultTerrainProviderViewModels=Jc,Td.CesiumInspector=Hc,Td.CesiumInspectorViewModel=qc,Td.CesiumWidget=Qc,Td.ClockViewModel=Xc,Td.Command=Kc,Td.FullscreenButton=Yc,Td.FullscreenButtonViewModel=Zc,Td.Geocoder=$c,Td.GeocoderViewModel=ed,Td.HomeButton=rd,Td.HomeButtonViewModel=td,Td.InfoBox=ad,Td.InfoBoxViewModel=id,Td.NavigationHelpButton=od,Td.NavigationHelpButtonViewModel=nd,Td.SceneModePicker=sd,Td.SceneModePickerViewModel=ld,Td.SelectionIndicator=cd,Td.SelectionIndicatorViewModel=dd,Td.SvgPathBindingHandler=ud,Td.Timeline=pd,Td.TimelineHighlightRange=md,Td.TimelineTrack=yd,Td.ToggleButtonViewModel=hd,Td.Viewer=Sd,Td.viewerCesiumInspectorMixin=Cd,Td.viewerDragDropMixin=gd,Td.viewerDynamicObjectMixin=vd,Td.createCommand=fd,Td.getElement=Pd,Td.subscribeAndEvaluate=Dd,Td.createTaskProcessorWorker=Md,Td
})},{}],2:[function(e,r){"use strict";function t(e,r){return Math.abs((e-r)/r)<1e-5}var a=e("./Variable"),i=e("../public/cesium/Source/Cesium"),o=i.defaultValue,n={},s={LON:0,LAT:1,ALT:2,TIME:3,SCALAR:4,ENUM:5},l=function(){this._nodataVal=1e-34,this._rowCnt=0,this._dataShape=void 0,this._varID=[],this._variables=void 0,this._loadingData=!1};l.prototype.getExtent=function(){var e=[0,0,0],r=[0,0,0],t=[s.LON,s.LAT,s.ALT];for(var a in t)this._varID[t[a]]&&(e[a]=this._variables[this._varID[t[a]]].min,r[a]=this._variables[this._varID[t[a]]].max);return i.Rectangle.fromDegrees(e[0],e[1],r[0],r[1])},l.prototype.getMinVal=function(){return this._variables&&this._varID[s.SCALAR]?this._variables[this._varID[s.SCALAR]].min:void 0},l.prototype.getMaxVal=function(){return this._variables&&this._varID[s.SCALAR]?this._variables[this._varID[s.SCALAR]].max:void 0},l.prototype.getMinTime=function(){return this._variables&&this._varID[s.TIME]?this._variables[this._varID[s.TIME]].time_var.min:void 0},l.prototype.getMaxTime=function(){return this._variables&&this._varID[s.TIME]?this._variables[this._varID[s.TIME]].time_var.max:void 0},l.prototype.getVarList=function(){var e=[];for(var r in this._variables)(this._variables[r].type===s.SCALAR||this._variables[r].type===s.ENUM)&&e.push(r);return e},l.prototype._processVariables=function(){this._varID=[];for(var e in this._variables){var r=this._variables[e];void 0===r.type&&r.guessVarType(e),r.type===s.TIME&&(r.processTimeVar(),void 0===r.time_var&&(r.type=s.SCALAR)),r.type!==s.TIME&&r._calculateVarMinMax(),r.type===s.SCALAR&&r.min>r.max&&(r.type=s.ENUM,r.processEnumVar());for(var t in s)void 0===this._varID[s[t]]&&r.type===s[t]&&(this._varID[s[t]]=e)}this._var_name&&this._var_name.length&&this._variables[this._var_name]&&(this._varID[s.SCALAR]=this._var_name),void 0===this._varID[s.SCALAR]&&(this._varID[s.SCALAR]=this._varID[s.ENUM]),this._rowCnt=this._variables[this._varID[s.SCALAR]].vals.length,void 0===this._dataShape&&(this._dataShape=[this._rowCnt])},l.prototype.loadJson=function(e){this._dataShape=void 0,this._variables={};for(var r=e[0],t=0;t<r.length;t++){for(var i=r[t],o=new a,n=1;n<e.length;++n)o.vals.push(e[n][t]);this._variables[i]=o}this._processVariables(),this._var_name&&this.setCurrentVariable({variable:this._var_name}),console.log(this),this._loadingData=!1},l.prototype.loadText=function(e){var r=$.csv.toArrays(e,{onParseValue:$.csv.hooks.castToScalar});this.loadJson(r)},l.prototype.loadUrl=function(e){if(e=o(e,n),this._url=o(e.url,this._url),this._var_name=o(e.variable,""),this._url){console.log("loading: "+this._url),this._loadingData=!0;var r=this;i.when(i.loadText(this._url),function(e){r.loadText(e)})}},l.prototype.setCurrentVariable=function(e){this._variables[e.variable]&&0!==this._variables[e.variable].vals.length&&(this._var_name=e.variable,this._var_name.length&&this._variables[this._var_name]&&(this._varID[s.SCALAR]=this._var_name))},l.prototype.getCurrentVariable=function(){return this._varID[s.SCALAR]},l.prototype.getDataValue=function(e,r){var t=this._variables[e];return void 0===t||void 0===t.vals?void 0:t.type===s.ENUM?t.enum_list[t.vals[r]]:t.type===s.TIME?t.time_var.vals[r]:t.vals[r]},l.prototype.getDataValues=function(e){return void 0===this._variables[e]||void 0===this._variables[e].vals?void 0:this._variables[e].vals},l.prototype.isNoData=function(e){return t(this._nodataVal,e)},l.prototype.getPointList=function(e){var r=this._varID[s.LON]?this._variables[this._varID[s.LON]].vals:void 0,t=this._varID[s.LAT]?this._variables[this._varID[s.LAT]].vals:void 0,a=this._varID[s.ALT]?this._variables[this._varID[s.ALT]].vals:void 0,i=this._variables[this._varID[s.SCALAR]].vals,o=this._varID[s.TIME]?this._variables[this._varID[s.TIME]].time_var.vals:void 0;void 0===e&&(e=i.length);for(var n=[],l=0;l<i.length&&e>l;l++){var c={val:i[l]};c.time=o?o[l]:void 0,c.pos=[r?r[l]:0,t?t[l]:0,a?a[l]:0],n.push(c)}return n},l.prototype.destroy=function(){return i.destroyObject(this)},r.exports=l},{"../public/cesium/Source/Cesium":1,"./Variable":6}],3:[function(e,r){"use strict";var t=Cesium.defaultValue,a=function(e){this.name=t(e.name,"New Item"),this.show=t(e.show,!0),this.type=t(e.type,"UNKNOWN"),this.primitive=t(e.primitive,void 0),this.extent=t(e.extent,void 0),this.url=t(e.url,void 0),this.style=t(e.style,void 0)};r.exports=a},{}],4:[function(e,r){"use strict";function t(e,r){var t=e.length,a=r.length;return t>a&&-1!==e.indexOf(r,t-a)}function a(e){if(void 0===e.geometryType||void 0===e.features||"FeatureCollection"===e.type)return e;e.type="FeatureCollection",e.crs={type:"EPSG",properties:{code:"4326"}};for(var r=0;r<e.features.length;r++){var t=e.features[r];if(t.type="Feature",t.properties=t.attributes,"esriGeometryPoint"===e.geometryType){var a=[t.geometry.x,t.geometry.y],i={type:"Point",coordinates:a};t.geometry=i}else if("esriGeometryPolyline"===e.geometryType){var a=t.geometry.paths[0],i={type:"LineString",coordinates:a};t.geometry=i}else if("esriGeometryPolygon"===e.geometryType){var a=t.geometry.paths[0],i={type:"Polygon",coordinates:a};t.geometry=i}}return e}function i(e){for(var r=e.split(/[ ,]+/),t=[],a=0;a<r.length;a+=2)t.push([parseFloat(r[a]),parseFloat(r[a+1])]);return t}function o(e,r){var t={type:"Feature"},a="Point"===r?i(e.pos)[0]:i(e.posList);return t.geometry={type:r,coordinates:a},t}function n(e){for(var r={type:"FeatureCollection",crs:{type:"EPSG",properties:{code:"4326"}},features:[]},t=0;t<e.featureMember.length;t++)S(e.featureMember[t],"Point",function(e){r.features.push(o(e,"Point"))}),S(e.featureMember[t],"LineString",function(e){r.features.push(o(e,"LineString"))}),S(e.featureMember[t],"Polygon",function(e){r.features.push(o(e,"Polygon"))});return r}function s(e,r){for(var t=0;t<e.length;t++)e[t].Layer?(1===e[t].queryable&&r.push(e[t]),s(e[t].Layer,r)):r.push(e[t])}function l(e){return function(r){return p(r,e)}}function c(e){Cesium.loadText("http://spatialreference.org/ref/epsg/"+e.substring(5)+"/proj4/").then(function(r){console.log("Adding new string for ",e,": ",r," before loading datasource")})}function d(e){if(void 0===e.crs||"EPSG"!==e.crs.type)return"";var r=e.crs.properties.code;return e.crs.type+":"+r}function u(e){return void 0!==Cesium.GeoJsonDataSource.crsNames[e]}function p(e,r){var t=new proj4.Proj(proj4_epsg[r]),a=new proj4.Proj("EPSG:4326"),i=new proj4.Point(e[0],e[1]);proj4(t,a,i);var o=Cesium.Cartographic.fromDegrees(i.x,i.y);return Cesium.Ellipsoid.WGS84.cartographicToCartesian(o)}function m(e,r){var t=Math.min(e.west,r.west),a=Math.min(e.south,r.south),i=Math.max(e.east,r.east),o=Math.max(e.north,r.north);return new Cesium.Rectangle(t,a,i,o)}function y(e){for(var r,t,a=e.dynamicObjects,i=a.getObjects(),o=new Cesium.JulianDate,n=0;n<i.length;n++){if(i[n].vertexPositions)var s=i[n].vertexPositions.getValue(o);else{if(!i[n].position)continue;var s=[i[n].position.getValue(o)]}var t=Cesium.Ellipsoid.WGS84.cartesianArrayToCartographicArray(s),l=Cesium.Rectangle.fromCartographicArray(t);r=void 0===r?l:m(r,l)}return r}function h(e,r,t){if(!(e[0]instanceof Array))return e;if(e.length<100)return e;for(var a,i=[],o=0;o<e.length;o+=a)for(i.push(e[o]),a=1;t>a&&!(o+a>=e.length)&&!(Math.abs(e[o][0]-e[o+a][0])+Math.abs(e[o][1]-e[o+a][1])>r);a++);return console.log(e.length,"points reduced to",i.length),i}function S(e,r,t){for(var a in e)e.hasOwnProperty(a)!==!1&&(void 0!==e[r]?t&&"function"==typeof t&&t(e[r]):"object"==typeof e[a]&&S(e[a],r,t))}function C(e){S(e,"coordinates",function(e){e=T(e,function(e){return h(e,.01,20)})})}function g(e){var r=e[G++%e.length];return new Cesium.Color(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}function v(e){return e instanceof Cesium.Color?e:new Cesium.Color(e.red,e.green,e.blue,e.alpha)}var f=e("./TableDataSource"),P=e("./GeoData"),D=(Cesium.defaultValue,function(){this.layers=[],this.shareRequest=!1,this.visStore="http://geospace.research.nicta.com.au:3000";var e=this;this.dataSourceCollection=new Cesium.DataSourceCollection,this.GeoDataAdded=new Cesium.Event,this.GeoDataRemoved=new Cesium.Event,this.ViewerChanged=new Cesium.Event,this.ShareRequest=new Cesium.Event,Cesium.loadJson("./data_sources.json").then(function(r){e.serviceList=r})});D.prototype.setViewer=function(e){{var r=e.scene;e.map}r?(this.dataSourceDisplay=new Cesium.DataSourceDisplay(r,this.dataSourceCollection),this.imageryLayersCollection=r.globe.imageryLayers):void 0!==this.dataSourceDisplay&&this.dataSourceDisplay.destroy(),this.ViewerChanged.raiseEvent(this,e);for(var t=0;t<this.layers.length;t++)console.log("Redisplay Layer",this.layers[t].name),this.layers[t].map=e.map,this.layers[t].skip=!0,this.sendLayerRequest(this.layers[t])},D.prototype.setShareRequest=function(e){this.shareRequest=!1;var r=this.getShareRequest(e);this.ShareRequest.raiseEvent(this,r)},D.prototype._getUniqueLayerName=function(e){for(var r=e,t=!0,a=1;t;){t=!1;for(var i=0;i<this.layers.length;i++)this.layers[i].name===e&&(t=!0);t&&(e=r+" ("+a+")",a++)}return e},D.prototype.update=function(e){void 0===this.dataSourceDisplay||this.dataSourceDisplay.isDestroyed()||this.dataSourceDisplay.update(e)},D.prototype.add=function(e){return e.skip?(e.skip=!1,e):(e.name=this._getUniqueLayerName(e.name),this.layers.push(e),this.GeoDataAdded.raiseEvent(this,e),e)},D.prototype.get=function(e){return this.layers[e]},D.prototype.remove=function(e){var r=this.get(e);r.dataSource?this.dataSourceCollection.contains(r.dataSource)?this.dataSourceCollection.remove(r.dataSource):r.dataSource.destroy():this.imageryLayersCollection.remove(r.primitive),this.layers.splice(e,1),this.GeoDataRemoved.raiseEvent(this,r)},D.prototype.show=function(e,r){e.show=r,e.dataSource?r?this.dataSourceCollection.add(e.dataSource):this.dataSourceCollection.remove(e.dataSource,!1):e.primitive.show=r},D.prototype._stringify=function(){for(var e=[],r=0;r<this.layers.length;r++){var t={};for(var a in this.layers[r])this.layers[r].hasOwnProperty(a)&&"primitive"!==a&&"dataSource"!==a&&(t[a]=this.layers[r][a]);e.push(t)}return JSON.stringify(e)},D.prototype._parse=function(e){for(var r=JSON.parse(e),t=[],a=0;a<r.length;a++){var i=r[a];for(var o in i)if(i[o].west){var n=i[o];i[o]=new Cesium.Rectangle(n.west,n.south,n.east,n.north)}t.push(i)}return t},D.prototype.loadUrl=function(e){var r=new URI(e),t={vis_server:this.visStore,vis_id:void 0,data_url:void 0},a=r.search(!0);$.extend(t,a),this.visStore=t.vis_server,this.visID=t.vis_id,this.dataUrl=t.data_url;var i=this;if(this.visID){var e=this.visStore+"/get_rec?vis_id="+this.visID;Cesium.when(Cesium.loadJson(e),function(e){console.log(e),i.visID=e._id;for(var r=(JSON.parse(e.camera),i._parse(e.layers)),t=0;t<r.length;t++)i.sendLayerRequest(r[t])})}else this.dataUrl&&Cesium.loadText(this.dataUrl).then(function(e){i.loadText(e,i.dataUrl)})},D.prototype.getShareRequest=function(e){var r={};r.title="",r.description="";for(var t=[],a=0;a<this.layers.length;a++)t.push(this.layers[a].name);r.tags=t.toString(),r.layers=this._stringify(),r.version="0.0.01",r.image=e.image;var i=e.camera;return void 0!==i&&(r.camera=JSON.stringify({e:i.positionWC,v:i.directionWC,u:i.upWC})),this.visID&&(r.parent=this.visID),r},D.prototype.formatSupported=function(e){for(var r=[".CZML",".GEOJSON",".JSON",".TOPOJSON",".KML",".GPX",".CSV"],a=e.toUpperCase(),i=0;i<r.length;i++)if(t(a,r[i]))return!0;return!1},D.prototype.loadText=function(e,r){var a=r.toUpperCase();if(console.log(a),t(a,".CZML")){var i=new Cesium.CzmlDataSource;i.load(JSON.parse(e)),this.dataSourceCollection.add(i),s=new P({name:r,type:"DATA"}),s.dataSource=i,s.extent=y(i),this.add(s)}else if(t(a,".GEOJSON")||t(a,".JSON")||t(a,".TOPOJSON"))s=new P({name:r,type:"DATA"}),this.addGeoJsonLayer(JSON.parse(e),r,s),this.add(s);else if(t(a,".KML")){s=new P({name:r,type:"DATA"});var o=(new DOMParser).parseFromString(e,"text/xml");this.addGeoJsonLayer(toGeoJSON.kml(o),r,s),this.add(s)}else if(t(a,".GPX")){s=new P({name:r,type:"DATA"});var o=(new DOMParser).parseFromString(e,"text/xml");this.addGeoJsonLayer(toGeoJSON.gpx(o),r,s),this.add(s)}else{if(!t(a,".CSV"))return console.log("There is no handler for this file based on its extension : "+r),!1;var n=new f;n.loadText(e),this.dataSourceCollection.add(n);var s=new P({name:r,type:"DATA"});s.dataSource=n,s.extent=n.dataset.getExtent(),this.add(s)}return!0},D.prototype._viewFeature=function(e,r){var t=this;if(console.log("GeoJSON request",e),r.proxy){var i=new Cesium.DefaultProxy("/proxy/");e=i.getURL(e)}Cesium.when(Cesium.loadText(e),function(e){var i;"{"===e[0]?(i=JSON.parse(e),i=a(i)):(i=$.xml2json(e),i=n(i),console.log(i)),r=t.addGeoJsonLayer(i,r.name+".geojson",r),t.add(r)})},D.prototype._viewMap=function(e,r){if(void 0===r.map){var t,a,i=new URI(e),o=(e.substring(0,e.indexOf("?")),i.search(!0)),n=o.layers,s="http://"+i.hostname()+i.path();r.proxy&&(a=new Cesium.DefaultProxy("/proxy/")),t="REST"===n?new Cesium.ArcGisMapServerImageryProvider({url:s,proxy:a}):new Cesium.WebMapServiceImageryProvider({url:s,layers:encodeURIComponent(n),parameters:{format:"image/png",transparent:"true",styles:""},proxy:a}),r.primitive=this.imageryLayersCollection.addImageryProvider(t)}else{var i=new URI(e),l=e.substring(0,e.indexOf("?")),o=i.search(!0),n=o.layers;r.proxy&&(a=new Cesium.DefaultProxy("/proxy/"),l=a.getURL(l)),t="REST"===n?new L.esri.TiledMapLayer(l):new L.tileLayer.wms(l+"%3f",{layers:n,format:"image/png",transparent:!0}),r.map.addLayer(t)}this.add(r)},D.prototype._viewTable=function(e,r){var t=this;Cesium.when(Cesium.loadText(e),function(e){var a=new f;if(a.loadText(e),void 0===r.map)t.dataSourceCollection.add(a),r.dataSource=a;else{for(var i=a.dataset.getPointList(),o=[],n=0;n<i.length;n++)o.push({type:"Point",coordinates:i[n].pos});L.geoJson(o).addTo(r.map)}t.add(r)})},D.prototype.sendLayerRequest=function(e){var r=e.url;if(console.log("LAYER REQUEST:",r),"WFS"===e.type||"REST"===e.type||"CKAN"===e.type||"GME"===e.type)this._viewFeature(r,e);else if("WMS"===e.type)this._viewMap(r,e);else{if("CSV"!==e.type)throw new DeveloperError("Creating layer for unsupported service: "+e.type);this._viewTable(r,e)}},D.prototype.getOGCFeatureURL=function(e){console.log("Getting ",e.feature);var r=e.base_url,t=encodeURIComponent(e.Name);if("WMS"===e.type)return r+="?service=wms&request=GetMap&layers="+t;if("WFS"===e.type)e.version="1.1.0",r+="?service=wfs&request=GetFeature&typeName="+t+"&version=1.1.0&srsName=EPSG:4326",-1!==r.indexOf("www.ga.gov.au")&&(e.esri=!0),void 0===e.esri&&(r+="&outputFormat=JSON"),e.count&&(r+="&maxFeatures="+e.count);else{if("REST"!==e.type)throw new Cesium.DeveloperError("Getting feature for unsupported service: "+e.type);r+="/"+e.idx,r+="/query?geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&returnGeometry=true&f=pjson"}if(e.extent){var a=e.extent,i=[Cesium.Math.toDegrees(a.west),Cesium.Math.toDegrees(a.south),Cesium.Math.toDegrees(a.east),Cesium.Math.toDegrees(a.north)],o=parseFloat(e.version);r="WFS"===e.type&&1.1>=o?r+"&bbox="+i[0]+","+i[1]+","+i[2]+","+i[3]:"REST"===e.type?r+"&geometry="+i[0]+","+i[1]+","+i[2]+","+i[3]:r+"&bbox="+i[1]+","+i[0]+","+i[3]+","+i[2]+",urn:x-ogc:def:crs:EPSG:6.9:4326"}return r},D.prototype.handleCapabilitiesRequest=function(e,r){var t;t="{"===e[0]?JSON.parse(e):$.xml2json(e),console.log(t);var a=[];if("WFS"===r.type)a=t.FeatureTypeList.FeatureType;else if("WMS"===r.type){var i=[t.Capability.Layer];s(i,a)}else if("REST"===r.type){a=t.layers;for(var o=0;o<a.length;o++)a[o].Name=a[o].name;var n=t.fullExtent;r.extent=Cesium.Rectangle.fromDegrees(parseFloat(n.xmin),parseFloat(n.ymin),parseFloat(n.xmax),parseFloat(n.ymax))}else if("CSV"===r.type)a=t.Layer;else if("GME"===r.type)a=t.Layer;else{if("CKAN"!==r.type)throw new DeveloperError("Getting capabilities for unsupported service: "+r.type);a=t.result.results;for(var o=0;o<a.length;o++)a[o].Name=a[o].name;r.extent}t.ServiceIdentification?r.version=parseFloat(t.ServiceIdentification.ServiceTypeVersion):t.Service&&(r.version=parseFloat(t.version)),r.Layer=a},D.prototype.getCapabilities=function(e,r){var t;if(t="CSV"===e.type||"GME"===e.type?e.base_url:"REST"===e.type?e.base_url+"?f=pjson":"CKAN"===e.type?e.base_url+"/api/3/action/package_search?q=GeoJSON&rows=50":e.base_url+"?service="+e.type+"&request=GetCapabilities",e.proxy){var a=new Cesium.DefaultProxy("/proxy/");t=a.getURL(t)}console.log("CAPABILITIES REQUEST:",t);var i=this;Cesium.when(Cesium.loadText(t),function(t){i.handleCapabilitiesRequest(t,e),r(e)})};for(var M in proj4_epsg)Cesium.GeoJsonDataSource.crsNames[M]=l(M);var T=function(e,r){if(!(e[0]instanceof Array&&e[0][0]instanceof Array))return e=r(e);for(var t=0;t<e.length;t++)e[t]=T(e[t],r);return e},_=function(e,r){if(e[0]instanceof Array)if(e[0][0]instanceof Array)for(var t=0;t<e.length;t++)_(e[t],r);else r.tot+=e.length,e.length>r.longest&&(r.longest=e.length);else r.tot++},b=[[204,197,24,255],[104,197,124,255],[104,107,224,255],[230,87,74,255],[104,197,24,255],[104,227,124,255],[104,227,124,255]],A=[[200,200,0,255],[200,0,0,255],[0,200,200,255],[0,200,0,255],[0,0,200,255],[200,0,200,255],[200,200,200,255]],G=0;D.prototype.addGeoJsonLayer=function(e,r,t){void 0===t.style&&(t.style={line:{},point:{},polygon:{}},t.style.line.color=g(b),t.style.line.width=2,t.style.point.color=g(A),t.style.point.size=10,t.style.polygon.color=t.style.line.color,t.style.polygon.fill=!1,t.style.polygon.fillcolor=t.style.line.color,t.style.polygon.fillcolor.alpha=.5);var a=new Cesium.GeoJsonDataSource,i=a.defaultPoint,o=new Cesium.DynamicPoint;o.color=new Cesium.ConstantProperty(v(t.style.point.color)),o.pixelSize=new Cesium.ConstantProperty(t.style.point.size),o.outlineColor=new Cesium.ConstantProperty(Cesium.Color.BLACK),o.outlineWidth=new Cesium.ConstantProperty(1),i.point=o;var n=a.defaultLine,s=new Cesium.DynamicPolyline,l=new Cesium.ColorMaterialProperty;l.color=new Cesium.ConstantProperty(v(t.style.line.color)),s.material=l,s.width=new Cesium.ConstantProperty(t.style.line.width),n.polyline=s;var p=a.defaultPolygon;p.polyline=s;var m=new Cesium.DynamicPolygon;m.fill=new Cesium.ConstantProperty(t.style.polygon.fill),p.polygon=m,l=new Cesium.ColorMaterialProperty,l.color=new Cesium.ConstantProperty(v(t.style.polygon.fillcolor)),m.material=l;var h=d(e);if(""!==h&&"EPSG:4326"!==h)u(h)?console.log("GeoJSONDataSource will convert this"):(console.log("===Going to spatial reference service to try to get proj4 string"),c(h,function(){console.log("ADD LOADING FUNC HERE")}));else{var f=JSON.stringify(e).length,P={tot:0,longest:0};S(e,"coordinates",function(e){_(e,P)}),console.log("finished",P),P.longest>100&&P.tot>1e5&&(C(e),console.log("downsampled object from",f,"bytes to",JSON.stringify(e).length))}if(void 0===t.map)a.load(e),this.dataSourceCollection.add(a),t.dataSource=a,t.extent||(t.extent=y(a));else{var D={color:"#ff7800",weight:5,opacity:.65};L.geoJson(e,{style:D}).addTo(t.map)}return t},r.exports=D},{"./GeoData":3,"./TableDataSource":5}],5:[function(e,r){"use strict";var t=e("./Dataset"),a=(Cesium.defaultValue,function(){this.czmlDataSource=new Cesium.CzmlDataSource,this.dataset=new t,this.show=!0,this.color=Cesium.Color.RED,this.pts_max=1e4,this.leadTimeMin=0,this.trailTimeMin=60,this.scale=1,this.scale_by_val=!0;var e=[{offset:0,color:"#00f"},{offset:.25,color:"#0ff"},{offset:.25,color:"#0ff"},{offset:.5,color:"#0f0"},{offset:.5,color:"#0f0"},{offset:.75,color:"#ff0"},{offset:.75,color:"#ff0"},{offset:1,color:"#f00"}];this.colorGradient=e,this.setColorGradient(e)});Cesium.defineProperties(a.prototype,{name:{get:function(){return this.czmlDataSource.name}},clock:{get:function(){return this.czmlDataSource.clock}},dynamicObjects:{get:function(){return this.czmlDataSource.dynamicObjects}},isLoading:{get:function(){return this.czmlDataSource.isLoading}},changedEvent:{get:function(){return this.czmlDataSource.changedEvent}},errorEvent:{get:function(){return this.czmlDataSource.errorEvent}},loadingEvent:{get:function(){return this.czmlDataSource.loadingEvent}}}),a.prototype.loadUrl=function(e){var r=this;this.dataset.loadUrl({url:e,callback:function(){r.setLeadTimeByPercent(0),r.setTrailTimeByPercent(1),r.czmlDataSource.load(r.getDataPointList(),"TableDataSource")}})},a.prototype.loadText=function(e){var r=this;this.dataset.loadText(e),r.setLeadTimeByPercent(0),r.setTrailTimeByPercent(1),r.czmlDataSource.load(r.getDataPointList(),"TableDataSource")},a.prototype.setCurrentVariable=function(e){var r=this;this.dataset.setCurrentVariable({variable:e,callback:function(){r.czmlDataSource.load(r.getDataPointList(),"TableDataSource")}})},a.prototype.czmlRecFromPoint=function(e){var r={billboard:{horizontalOrigin:"CENTER",verticalOrigin:"BOTTOM",image:"./images/pow32.png",scale:1,color:{rgba:[255,0,0,255]},show:[{interval:"2011-02-04T16:00:00Z/2011-04-04T18:00:00Z","boolean":!0}]},position:{cartographicDegrees:[0,0,0]}};r.billboard.color.rgba=this._mapValue2Color(e.val),r.billboard.scale=this._mapValue2Scale(e.val);for(var t=0;3>t;t++)r.position.cartographicDegrees[t]=e.pos[t];var a=e.time.addMinutes(-this.leadTimeMin),i=e.time.addMinutes(this.trailTimeMin);return r.billboard.show[0].interval=a.toIso8601()+"/"+i.toIso8601(),r},a.prototype.getDataPointList=function(){var e=this.dataset;if(!e._loadingData){for(var r=this.dataset.getPointList(),t=[],a=0;a<r.length;a++){var i=this.czmlRecFromPoint(r[a]);t.push(i)}return t}},a.prototype._getNormalizedPoint=function(e){var r=this.dataset;if(void 0===r||r.isNoData(e))return void 0;var t=r.getMinVal(),a=r.getMaxVal(),i=a===t?0:(e-t)/(a-t);return i},a.prototype._mapValue2Scale=function(e){var r=this.scale,t=this._getNormalizedPoint(e);return void 0!==t&&(r*=this.scale_by_val?1*t+.5:1),r},a.prototype._mapValue2Color=function(e){var r=this.dataImage;if(void 0===r)return this.color;var t=this._getNormalizedPoint(e),a=[0,0,0,0];if(void 0!==t){var i=4*Math.floor(t*(r.data.length/4-1));a=r.data.subarray(i,i+4),a[3]*=this.color.alpha}return a},a.prototype.setLeadTimeByPercent=function(e){if(this.dataset){var r=this.dataset;this.leadTimeMin=r.getMinTime().getMinutesDifference(r.getMaxTime())*e/100}},a.prototype.setTrailTimeByPercent=function(e){if(this.dataset){var r=this.dataset;this.trailTimeMin=r.getMinTime().getMinutesDifference(r.getMaxTime())*e/100}},a.prototype.createGradient=function(e){for(var r=e.canvas.width,t=e.canvas.height,a=e.createLinearGradient(0,0,0,t),i=this.colorGradient,o=0;o<i.length;o++)a.addColorStop(i[o].offset,i[o].color);e.fillStyle=a,e.fillRect(0,0,r,t)},a.prototype.setColorGradient=function(){document.getElementById("grad_div")||($("body").append('<div id="grad_div"></div>'),$("<canvas/>",{id:"gradCanvas",Width:64,Height:256,Style:"display: none"}).appendTo("#grad_div"));var e=$("#gradCanvas")[0],r=e.getContext("2d");this.createGradient(r),this.dataImage=r.getImageData(0,0,1,256)},a.prototype.destroy=function(){return Cesium.destroyObject(this)},r.exports=a},{"./Dataset":2}],6:[function(e,r){"use strict";function t(e){return!isNaN(parseFloat(e))&&isFinite(e)}function a(e){var r=e.split(/[/-]/);return 3===r.length&&(e=r[1]+"/"+r[0]+"/"+r[2]),e}var i={LON:0,LAT:1,ALT:2,TIME:3,SCALAR:4,ENUM:5},o=function(){this.vals=[],this.fNoData=1e-34,this.min=void 0,this.max=void 0,this.type=void 0,this.time_var=void 0,this.enum_list=void 0};o.prototype._calculateVarMinMax=function(){for(var e=this.vals,r=Number.MAX_VALUE,t=-Number.MAX_VALUE,a=0;a<e.length;a++)void 0===e[a]||null===e[a]?e[a]=this.fNoData:(r>e[a]&&(r=e[a]),t<e[a]&&(t=e[a]));this.min=r,this.max=t},o.prototype._calculateTimeMinMax=function(){for(var e=this.vals,r=e[0],t=e[0],a=1;a<e.length;a++)r.greaterThan(e[a])&&(r=e[a]),t.lessThan(e[a])&&(t=e[a]);this.min=r,this.max=t},o.prototype.processTimeVar=function(){function e(e){return Cesium.JulianDate.fromDate(new Date(e))}function r(e){var r=Cesium.JulianDate.fromDate(new Date("January 1, 1970 0:00:00"));return r=r.addDays(Math.floor(e)-25569),r=r.addSeconds(60*(e-Math.floor(e))*60*24)}function n(e){return Cesium.JulianDate.fromDate(Date.setTime(e))}function s(e){var r=new Cesium.JulianDate(0,0),t=e.toString(),a=parseInt(t.substring(0,4),10),i=parseInt(t.substring(4,7),10);if(14!==t.length||1950>a||a>2050||i>366)return r;var o=new Date;return o.setUTCFullYear(a),o.setUTCHours(t.substring(7,9),t.substring(9,11),t.substring(11,13)),r=Cesium.JulianDate.fromDate(o).addDays(i)}if(this.type===i.TIME){var l,c=new o,d=this.vals;l=parseInt(d[0],10)>5e5?0!==s(d[0]).getJulianDayNumber()?s:n:t(d[0])?r:e;var u=!1;try{for(var p=0;p<d.length;p++)c.vals[p]=l(d[p]);u=!0}catch(m){if(l===e){console.log("Trying swap of day and month in date strings"),c.vals=[];try{for(var p=0;p<d.length;p++)c.vals[p]=l(a(d[p]));u=!0}catch(m){}}}u?(c._calculateTimeMinMax(),this.time_var=c):(this.type=i.SCALAR,console.log("Unable to parse time variable"))}},o.prototype.processEnumVar=function(){if(this.type===i.ENUM){for(var e=[],r=0;r<this.vals.length;r++){this.vals[r]===this.fNoData&&(this.vals[r]="undefined");var t=e.indexOf(this.vals[r]);-1===t&&(t=e.length,e.push(this.vals[r])),this.vals[r]=parseFloat(t)}this.enum_list=e,this.calculateVarMinMax()}},o.prototype.guessVarType=function(e){function r(e,r){var e=e.toLowerCase();for(var t in r){var a=r[t].toLowerCase();if(0===e.indexOf(a)||-1!==e.indexOf(" "+a)||-1!==e.indexOf("_"+a))return!0}return!1}var t=[{hints:["lon"],type:i.LON},{hints:["lat"],type:i.LAT},{hints:["depth","height","elevation"],type:i.ALT},{hints:["time","date"],type:i.TIME}];for(var a in t)if(r(e,t[a].hints))return void(this.type=t[a].type);this.type=i.SCALAR},o.prototype.destroy=function(){return Cesium.destroyObject(this)},r.exports=o},{}],7:[function(e,r){r.exports={Variable:e("./Variable"),Dataset:e("./Dataset"),TableDataSource:e("./TableDataSource"),GeoData:e("./GeoData"),GeoDataCollection:e("./GeoDataCollection")}},{"./Dataset":2,"./GeoData":3,"./GeoDataCollection":4,"./TableDataSource":5,"./Variable":6}]},{},[7])(7)});